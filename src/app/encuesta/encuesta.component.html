<div class="container">
    <form [formGroup]="forma" (ngSubmit)="aceptar()">
      <div class="row">
        <div class="col-md-12 mb-5">
          <h2>Encuesta</h2>
        </div>
      </div>
      <div class="row formulario">
        <div class="col-md-6 mb-3">
          <label for="nombre" class="form-label">Nombre</label>
          <input type="text" class="form-control" id="nombre" placeholder="Ingrese nombre" formControlName="nombre">
          <small class="invalid" 
            *ngIf="forma.controls.nombre.errors?.required &&
            forma.controls.nombre.touched">
            El nombre es requerido
          </small>
          <small class="invalid" 
          *ngIf="forma.controls.nombre.errors?.containsSpaces &&
          forma.controls.nombre.touched">
          El nombre no puede contener espacios
        </small>
        </div>
        <div class="col-md-6 mb-3">
          <label for="apellido" class="form-label">Apellido</label>
          <input type="text" class="form-control" id="apellido" placeholder="Ingrese apellido" formControlName="apellido"> 
          <small class="invalid"
            *ngIf="forma.controls.apellido.errors?.required &&
            forma.controls.apellido.touched">
            El apellido es requerido
          </small>
        </div>
        <div class="col-md-6 mb-3">
          <label for="edad" class="form-label">Edad</label>
          <input type="number" class="form-control" id="edad" placeholder="Ingrese edad" formControlName="edad">
          <small class="invalid"
            *ngIf="forma.controls.edad.errors?.required &&
            forma.controls.edad.touched">
            La edad es requerida
          </small>
          <small class="invalid"
            *ngIf="forma.controls.edad.errors?.min || 
            forma.controls.edad.errors?.max &&
            forma.controls.edad.touched">
            La edad debe ser de 18 a 99 a√±os
          </small>
        </div>
        <div class="col-md-6 mb-3">
            <label for="telefono" class="form-label">Telefono</label>
            <input type="number" class="form-control" id="telefono" placeholder="Ingrese telefono" formControlName="telefono">
            <small class="invalid"
              *ngIf="forma.controls.edad.errors?.required &&
              forma.controls.edad.touched">
              El telefono es requerido
            </small>
            <small class="invalid"
              *ngIf="forma.controls.telefono.errors?.okLength &&
              forma.controls.telefono.touched">
              El telefono debe tener 10 caracteres
            </small>
          </div>
        <div class="col-md-6 mb-3">
          <label for="pregunta1" class="form-label">Elija su juego favorito:</label>
          <select class="form-select" id="pregunta1" formControlName="pregunta1">
            <option value="">Seleccione uno</option>
            <option value="mayorMenor">Mayor Menor</option>
            <option value="preguntados">Preguntados</option>
            <option value="clicker">Clicker</option>
            <option value="ahorcado">Ahorcado</option>
          </select>
          <small class="invalid"
            *ngIf="forma.controls.pregunta1.errors?.required &&
            forma.controls.pregunta1.touched">
            Esta respuesta es requerida
          </small>
        </div>
        <div class="col-md-6 mb-3">
            <label for="pregunta2" class="form-label">Elija su juego menos favorito:</label>
            <select class="form-select" id="pregunta2" formControlName="pregunta2">
              <option value="">Seleccione uno</option>
              <option value="mayorMenor">Mayor Menor</option>
              <option value="preguntados">Preguntados</option>
              <option value="clicker">Clicker</option>
              <option value="ahorcado">Ahorcado</option>
            </select>
            <small class="invalid"
              *ngIf="forma.controls.pregunta2.errors?.required &&
              forma.controls.pregunta2.touched">
              Esta respuesta es requerida
            </small>
          </div>
          <div class="col-md-6 mb-3">
            <label for="pregunta3" class="form-label">Recomendaria la web a un Amigo?</label>
            <select class="form-select" id="pregunta3" formControlName="pregunta3">
              <option value="">Seleccione uno</option>
              <option value="Si">Si</option>
              <option value="No">No</option>
            </select>
            <small class="invalid"
              *ngIf="forma.controls.pregunta3.errors?.required &&
              forma.controls.pregunta3.touched">
              Esta respuesta es requerida
            </small>
          </div>
      </div>
      <div class="row">
        <div class="col-md-12 d-grid gap-2">
          <button type="submit" 
          class="btn btn-primary btn-block" 
          [disabled]="forma.invalid && forma.controls">
          Aceptar
        </button>
        </div>
      </div>
    </form>
    <div class="row">
      <div class="col-md-12 d-grid gap-2">
        <button (click)="openResultadosDialog()" *ngIf="usuarioActual == admin" style="margin-top: 10px;"
        class="btn btn-primary btn-block">
        Resultados de la Encuesta
      </button>
      </div>
    </div>
</div>